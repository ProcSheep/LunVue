


          
# 删除商品接口文档

## 接口信息
- **接口名称**: 删除商品
- **接口地址**: `DELETE /api/shop/:goods_id`
- **接口描述**: 根据商品ID删除指定商品信息

## 请求参数
- **路径参数**:
  - `goods_id` (string): 商品唯一标识符，必需参数

## 请求示例
```http
DELETE /api/shop/1001
```

## 响应格式

### 成功响应 (200)
```json
{
  "success": true,
  "message": "商品删除成功",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "goods_id": "1001",
    "goods_name": "商品名称",
    "goods_info": "商品描述",
    "goods_price": 99.99,
    "__v": 0
  }
}
```

### 错误响应
- **参数缺失错误** (400):
```json
{
  "success": false,
  "message": "商品ID不能为空"
}
```

- **商品不存在错误** (404):
```json
{
  "success": false,
  "message": "商品不存在"
}
```

- **服务器内部错误** (500):
```json
{
  "success": false,
  "message": "商品删除失败",
  "error": "具体错误信息"
}
```

## Vue前端使用示例

```javascript
// 删除商品
async deleteGoods(goodsId) {
  try {
    const response = await fetch(`/api/shop/${goodsId}`, {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json',
      },
    });

    const result = await response.json();

    if (result.success) {
      console.log('商品删除成功:', result.data);
      // 执行删除成功后的操作，如刷新商品列表
    } else {
      console.error('商品删除失败:', result.message);
      // 处理删除失败的情况
    }
  } catch (error) {
    console.error('请求失败:', error);
  }
}

// 使用示例
deleteGoods('1001');
```

## 注意事项
1. 该接口需要管理员权限才能访问
2. 删除操作不可逆，请谨慎操作
3. 接口会先验证商品是否存在，若不存在则返回404错误
4. 确保传递的goods_id参数不为空
5. 接口返回被删除的商品的完整信息作为确认
        